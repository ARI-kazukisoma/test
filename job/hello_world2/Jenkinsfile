// 使用したい共有ライブラリの名前を指定。名前はJenkinsのシステム設定上で管理
@Library('auto-deploy') _
// vars配下を参照するため
@Library('utils') _

pipeline {
  agent any
  stages {
    stage("shared library import test") {
      steps {
        node("master") {
          script {
            def slack = new org.slack.Util()
            def channel = "#hooktest"
            credentialId = constant.slack.channelCredentialIds channel
            slack.notifyMessage('#hooktest', credentialId, "bbbbbb")
          }
        }
        node("master") {
          script {
            def slack = new org.slack.Util()
            // slack.notifyMessage('#hooktest', "aaaaa")
          }
        }
      }
    }
  }
}